name: Docs

on:
  push:
    branches:
      - main
    paths:
      - "docs/**"
      - ".github/workflows/docs.yml"
  pull_request:
    paths:
      - "docs/**"
      - ".github/workflows/docs.yml"
  workflow_dispatch:

jobs:
  linkcheck:
    name: Check links
    runs-on: ubuntu-latest
    services:
      docs:
        image: ./docs/Dockerfile
        ports:
          - 3000:3000
    steps:
      - name: Check links
        uses: filiph/linkcheck@3.0.0
        with:
          arguments: http://docs:3000
